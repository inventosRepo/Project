<!doctype html>
<html>
  <head>
  </head>
  <body>
    <h1>Buttons</h1>
    <div class="container">
        <%= image_tag "right.png", id: "right" %>
        <%= image_tag "left.png", id: "left" %>	
	<%= image_tag "up.png", id: "up" %>
	<%= image_tag "down.png", id: "down" %>
	<%= image_tag "fire.png", id: "fire" %>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      // where our WebSockets logic will go later
      var socket, host;
      
      host = "ws://0.0.0.0:3001";

      function connect() {
        socket = new WebSocket(host);
      }

      $(function() {
        connect();
        alert('Connected!');
      });

      $("#disconnect").click(function() {
        socket.close()
      });
      
      $("#left").click(function() {
        socket.send("left")
      });

      $("#right").click(function() {
        socket.send("right")
      });

      $("#up").click(function() {
        socket.send("up");
        socket.send(name);
      });

      $("#down").click(function() {
        socket.send("down")
      });

      $("#fire").click(function() {
        socket.send("fire!")
      });
    </script>
  </body>
</html>
